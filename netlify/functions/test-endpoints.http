### Test file for Netlify Functions API endpoints
### Use with REST Client extension in VS Code

@baseUrl = https://your-site.netlify.app/.netlify/functions
# For local development: http://localhost:8888/.netlify/functions

### Users API Tests

# Get all users
GET {{baseUrl}}/users
Content-Type: application/json

###

# Get specific user (replace with actual user ID)
GET {{baseUrl}}/users/user-id-here
Content-Type: application/json

###

# Create new user
POST {{baseUrl}}/users
Content-Type: application/json

{
  "name": "John Doe",
  "email": "john.doe@example.com",
  "role": "USER"
}

###

# Update user (replace with actual user ID)
PUT {{baseUrl}}/users/user-id-here
Content-Type: application/json

{
  "name": "John Updated",
  "role": "ADMIN"
}

###

# Delete user (replace with actual user ID)
DELETE {{baseUrl}}/users/user-id-here
Content-Type: application/json

###

### Leads API Tests

# Get all leads
GET {{baseUrl}}/leads
Content-Type: application/json

###

# Get specific lead (replace with actual lead ID)
GET {{baseUrl}}/leads/lead-id-here
Content-Type: application/json

###

# Create new lead
POST {{baseUrl}}/leads
Content-Type: application/json

{
  "name": "Jane Smith",
  "email": "jane.smith@company.com",
  "phone": "+1234567890",
  "company": "ACME Corporation",
  "status": "NEW"
}

###

# Update lead (replace with actual lead ID)
PUT {{baseUrl}}/leads/lead-id-here
Content-Type: application/json

{
  "status": "QUALIFIED",
  "assignedTo": "user-id-here"
}

###

# Delete lead (replace with actual lead ID)
DELETE {{baseUrl}}/leads/lead-id-here
Content-Type: application/json

###

### Opportunities API Tests

# Get all opportunities
GET {{baseUrl}}/opportunities
Content-Type: application/json

###

# Get opportunities for specific lead
GET {{baseUrl}}/opportunities?leadId=lead-id-here
Content-Type: application/json

###

# Get specific opportunity (replace with actual opportunity ID)
GET {{baseUrl}}/opportunities/opportunity-id-here
Content-Type: application/json

###

# Create new opportunity
POST {{baseUrl}}/opportunities
Content-Type: application/json

{
  "title": "Software License Deal",
  "amount": 50000.00,
  "stage": "PROSPECT",
  "leadId": "lead-id-here",
  "assignedTo": "user-id-here"
}

###

# Update opportunity (replace with actual opportunity ID)
PUT {{baseUrl}}/opportunities/opportunity-id-here
Content-Type: application/json

{
  "stage": "PROPOSAL",
  "amount": 55000.00
}

###

# Delete opportunity (replace with actual opportunity ID)
DELETE {{baseUrl}}/opportunities/opportunity-id-here
Content-Type: application/json

###

### Analytics API Tests

# Get analytics dashboard data
GET {{baseUrl}}/analytics
Content-Type: application/json

###

### CORS Preflight Tests

# Test CORS for users endpoint
OPTIONS {{baseUrl}}/users
Origin: http://localhost:3000
Access-Control-Request-Method: POST
Access-Control-Request-Headers: Content-Type

###

# Test CORS for leads endpoint
OPTIONS {{baseUrl}}/leads
Origin: http://localhost:3000
Access-Control-Request-Method: PUT
Access-Control-Request-Headers: Content-Type

###

# Test CORS for opportunities endpoint
OPTIONS {{baseUrl}}/opportunities
Origin: http://localhost:3000
Access-Control-Request-Method: DELETE
Access-Control-Request-Headers: Content-Type

###

# Test CORS for analytics endpoint
OPTIONS {{baseUrl}}/analytics
Origin: http://localhost:3000
Access-Control-Request-Method: GET
Access-Control-Request-Headers: Content-Type